{% extends "base.html "%}

{% block body%}
<div class="container3">
    <input type="hidden" value="{{user.is_authenticated}}" id="user_ckeck">

    <div class="user-profile flex vcenter">
        <div class="profile-imag">
            <img src="{{profile.profile_image.url}}" alt="">
        </div>
        <div>

        
        <div class="user-name" style="font-size: 14px;">
            {{profile.displayName}}
            <span>
                <svg style="vertical-align: bottom;" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 22 22" aria-labelledby="verifiedIconTitle" stroke="#fff" stroke-width="0.75" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#2329D6"> <title id="verifiedIconTitle">Verified</title> <path d="M8 12.5L10.5 15L16 9.5"/> <path d="M12 22C13.2363 22 14.2979 21.2522 14.7572 20.1843C14.9195 19.8068 15.4558 19.5847 15.8375 19.7368C16.9175 20.1672 18.1969 19.9453 19.0711 19.0711C19.9452 18.1969 20.1671 16.9175 19.7368 15.8376C19.5847 15.4558 19.8068 14.9195 20.1843 14.7572C21.2522 14.2979 22 13.2363 22 12C22 10.7637 21.2522 9.70214 20.1843 9.24282C19.8068 9.08046 19.5847 8.54419 19.7368 8.16246C20.1672 7.08254 19.9453 5.80311 19.0711 4.92894C18.1969 4.05477 16.9175 3.83286 15.8376 4.26321C15.4558 4.41534 14.9195 4.1932 14.7572 3.8157C14.2979 2.74778 13.2363 2 12 2C10.7637 2 9.70214 2.74777 9.24282 3.81569C9.08046 4.19318 8.54419 4.41531 8.16246 4.26319C7.08254 3.83284 5.80311 4.05474 4.92894 4.92891C4.05477 5.80308 3.83286 7.08251 4.26321 8.16243C4.41534 8.54417 4.1932 9.08046 3.8157 9.24282C2.74778 9.70213 2 10.7637 2 12C2 13.2363 2.74777 14.2979 3.81569 14.7572C4.19318 14.9195 4.41531 15.4558 4.26319 15.8375C3.83284 16.9175 4.05474 18.1969 4.92891 19.0711C5.80308 19.9452 7.08251 20.1671 8.16243 19.7368C8.54416 19.5847 9.08046 19.8068 9.24282 20.1843C9.70213 21.2522 10.7637 22 12 22Z"/> </svg>
                    
            </span>

        </div>

        <div class="user-follow">
          
            {% if request.user.is_authenticated == False %}
            <span>
            <a href="/login">LOGIN/SIGNUP</a>     
        </span>   
            
            {% else %}

    

            {% if followed == True %}
            <span id="fbtn" data-userid="{{profile.id}}">
                
                Following</span>

            {% else %}

            

            <span id="fbtn" data-userid="{{profile.id}}">Follow</span>
            {% endif %}
            {% endif %}


        </div>
        <div class="user-bio">

            {{profile.bio |safe}}
        </div>
      
        

    </div>
    </div>
    <div  class="flex vcenter">
    <div> Follow Me On </div>
    <div class="user-social-media flex vcenter">
            
        <a href="{{profile.insta}}" id="insta"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M7.465 1.066C8.638 1.012 9.012 1 12 1c2.988 0 3.362.013 4.534.066c1.172.053 1.972.24 2.672.511c.733.277 1.398.71 1.948 1.27c.56.549.992 1.213 1.268 1.947c.272.7.458 1.5.512 2.67C22.988 8.639 23 9.013 23 12c0 2.988-.013 3.362-.066 4.535c-.053 1.17-.24 1.97-.512 2.67a5.396 5.396 0 0 1-1.268 1.949c-.55.56-1.215.992-1.948 1.268c-.7.272-1.5.458-2.67.512c-1.174.054-1.548.066-4.536.066c-2.988 0-3.362-.013-4.535-.066c-1.17-.053-1.97-.24-2.67-.512a5.397 5.397 0 0 1-1.949-1.268a5.392 5.392 0 0 1-1.269-1.948c-.271-.7-.457-1.5-.511-2.67C1.012 15.361 1 14.987 1 12c0-2.988.013-3.362.066-4.534c.053-1.172.24-1.972.511-2.672a5.396 5.396 0 0 1 1.27-1.948a5.392 5.392 0 0 1 1.947-1.269c.7-.271 1.5-.457 2.67-.511Zm8.98 1.98c-1.16-.053-1.508-.064-4.445-.064c-2.937 0-3.285.011-4.445.064c-1.073.049-1.655.228-2.043.379c-.513.2-.88.437-1.265.822a3.412 3.412 0 0 0-.822 1.265c-.151.388-.33.97-.379 2.043c-.053 1.16-.064 1.508-.064 4.445c0 2.937.011 3.285.064 4.445c.049 1.073.228 1.655.379 2.043c.176.477.457.91.822 1.265c.355.365.788.646 1.265.822c.388.151.97.33 2.043.379c1.16.053 1.507.064 4.445.064c2.938 0 3.285-.011 4.445-.064c1.073-.049 1.655-.228 2.043-.379c.513-.2.88-.437 1.265-.822c.365-.355.646-.788.822-1.265c.151-.388.33-.97.379-2.043c.053-1.16.064-1.508.064-4.445c0-2.937-.011-3.285-.064-4.445c-.049-1.073-.228-1.655-.379-2.043c-.2-.513-.437-.88-.822-1.265a3.413 3.413 0 0 0-1.265-.822c-.388-.151-.97-.33-2.043-.379Zm-5.85 12.345a3.669 3.669 0 0 0 4-5.986a3.67 3.67 0 1 0-4 5.986ZM8.002 8.002a5.654 5.654 0 1 1 7.996 7.996a5.654 5.654 0 0 1-7.996-7.996Zm10.906-.814a1.337 1.337 0 1 0-1.89-1.89a1.337 1.337 0 0 0 1.89 1.89Z" clip-rule="evenodd"/></svg>
            </a>
                     
                    {% if profile.youtube %}
                    <a href="{{profile.youtube}}" id="youtube">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 1024 1024"><path fill="currentColor" d="M960 509.2c0-2.2 0-4.7-.1-7.6c-.1-8.1-.3-17.2-.5-26.9c-.8-27.9-2.2-55.7-4.4-81.9c-3-36.1-7.4-66.2-13.4-88.8a139.52 139.52 0 0 0-98.3-98.5c-28.3-7.6-83.7-12.3-161.7-15.2c-37.1-1.4-76.8-2.3-116.5-2.8c-13.9-.2-26.8-.3-38.4-.4h-29.4c-11.6.1-24.5.2-38.4.4c-39.7.5-79.4 1.4-116.5 2.8c-78 3-133.5 7.7-161.7 15.2A139.35 139.35 0 0 0 82.4 304C76.3 326.6 72 356.7 69 392.8c-2.2 26.2-3.6 54-4.4 81.9c-.3 9.7-.4 18.8-.5 26.9c0 2.9-.1 5.4-.1 7.6v5.6c0 2.2 0 4.7.1 7.6c.1 8.1.3 17.2.5 26.9c.8 27.9 2.2 55.7 4.4 81.9c3 36.1 7.4 66.2 13.4 88.8c12.8 47.9 50.4 85.7 98.3 98.5c28.2 7.6 83.7 12.3 161.7 15.2c37.1 1.4 76.8 2.3 116.5 2.8c13.9.2 26.8.3 38.4.4h29.4c11.6-.1 24.5-.2 38.4-.4c39.7-.5 79.4-1.4 116.5-2.8c78-3 133.5-7.7 161.7-15.2c47.9-12.8 85.5-50.5 98.3-98.5c6.1-22.6 10.4-52.7 13.4-88.8c2.2-26.2 3.6-54 4.4-81.9c.3-9.7.4-18.8.5-26.9c0-2.9.1-5.4.1-7.6v-5.6zm-72 5.2c0 2.1 0 4.4-.1 7.1c-.1 7.8-.3 16.4-.5 25.7c-.7 26.6-2.1 53.2-4.2 77.9c-2.7 32.2-6.5 58.6-11.2 76.3c-6.2 23.1-24.4 41.4-47.4 47.5c-21 5.6-73.9 10.1-145.8 12.8c-36.4 1.4-75.6 2.3-114.7 2.8c-13.7.2-26.4.3-37.8.3h-28.6l-37.8-.3c-39.1-.5-78.2-1.4-114.7-2.8c-71.9-2.8-124.9-7.2-145.8-12.8c-23-6.2-41.2-24.4-47.4-47.5c-4.7-17.7-8.5-44.1-11.2-76.3c-2.1-24.7-3.4-51.3-4.2-77.9c-.3-9.3-.4-18-.5-25.7c0-2.7-.1-5.1-.1-7.1v-4.8c0-2.1 0-4.4.1-7.1c.1-7.8.3-16.4.5-25.7c.7-26.6 2.1-53.2 4.2-77.9c2.7-32.2 6.5-58.6 11.2-76.3c6.2-23.1 24.4-41.4 47.4-47.5c21-5.6 73.9-10.1 145.8-12.8c36.4-1.4 75.6-2.3 114.7-2.8c13.7-.2 26.4-.3 37.8-.3h28.6l37.8.3c39.1.5 78.2 1.4 114.7 2.8c71.9 2.8 124.9 7.2 145.8 12.8c23 6.2 41.2 24.4 47.4 47.5c4.7 17.7 8.5 44.1 11.2 76.3c2.1 24.7 3.4 51.3 4.2 77.9c.3 9.3.4 18 .5 25.7c0 2.7.1 5.1.1 7.1v4.8zM423 646l232-135l-232-133z"/></svg>
                            
                            
                            
                     
                        
                        </a>
                    {% endif %}
                </div>
            </div>
    
<div class="user-profile-info">
    <div class="user-posts tab-link active" data-tab="1">
        <div class="user-post-count mb5">
            {{postscount}}
        </div>
        <div>
            Ringtones
        </div>
    </div>
    <div class="user-followers tab-link" data-tab="2">
        <div class="user-followers-count mb5">
            {{followingcount}}
        </div>
         
        <div>
            Followers
        </div>
         

    </div>

    <div class="user-following tab-link" data-tab="3">
        <div class="user-following-count mb5">
            {{emcount}} 
        </div>
        <div>
            Following
        </div>

    </div>
    
</div>

 
<div class="content-wrapper">

    <div id="tab-1" class="tab-content active">
        <div class="user-upload-ringtones">
            <div class="most-played-container player">
                 
        
                <div class="related flex flex-wrap">
                     
                    {% for item in posts %}
                    <div class="ringtone-container flex flex100 related-ringtone-item vcenter">
                        <div class="single-thum-image play-action">
                            <!-- <div class="played"> <svg xmlns="http://www.w3.org/2000/svg" role="img" width="18px" height="18px" viewBox="0 0 24 24" aria-labelledby="headphonesIconTitle" stroke="#2329D6" stroke-width="1.125" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#2329D6"> <title id="headphonesIconTitle">Headphones</title> <path stroke-linecap="round" d="M21,13 L19,13 C17.8954305,13 17,13.8954305 17,15 L17,17 C17,18.1045695 17.8954305,19 19,19 L19,19 C20.1045695,19 21,18.1045695 21,17 L21,13 C21,8.02943725 16.9705627,4 12,4 C7.02943725,4 3,8.02943725 3,13 L3,17 C3,18.1045695 3.8954305,19 5,19 L5,19 C6.1045695,19 7,18.1045695 7,17 L7,15 C7,13.8954305 6.1045695,13 5,13 L3,13"/> </svg><span>{{item.played}}</span>
                            </div> -->
                           
                           
                            <script> token = '{{ csrf_token }}'</script>
                            <img src="{{item.thumb.url}}" alt="">
                            <div class="play-btn">
        
                                <span class="ring-preloader"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="25 25 50 50">
                                <circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke="#fff" stroke-linecap="round" stroke-dashoffset="0" stroke-dasharray="100, 200">
                                <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 50 50" to="360 50 50" dur="2.5s" repeatCount="indefinite"></animateTransform>
                                <animate attributeName="stroke-dashoffset" values="0;-30;-124" dur="1.25s" repeatCount="indefinite"></animate>
                                <animate attributeName="stroke-dasharray" values="0,200;110,200;110,200" dur="1.25s" repeatCount="indefinite"></animate>
                                </circle>
                                </svg></span>
                                
                                
                                <div class="home-play-btn">
                                <svg role="img" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 24 24" aria-labelledby="playIconTitle" stroke="#fff" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#777"> <title id="playIconTitle">Play</title> <path d="M20 12L5 21V3z"></path> </svg>
                                </div>
                                
                                <div class="home-pause-btn">
                                <svg role="img" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 24 24" aria-labelledby="pauseIconTitle" stroke="#fff" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#777"> <title id="pauseIconTitle">Pause</title> <rect width="4" height="16" x="5" y="4"></rect> <rect width="4" height="16" x="15" y="4"></rect> </svg>
                                </div>
                                
                                
                                
                                
                                <span class="track">
                                <audio class="audio1" controls="" preload="none" data-id="{{item.id}}">
                                <source src="{{item.file.url}}" type="audio/mpeg">
                                </audio>
                                </span>
                                </div>
        
                                  <!-- <div class="download-info"> <a href="{{item.get_absolute_url}}"> Download</a></div>   -->
                                <div class="ring-progress"></div>
        
                        </div>
        
        
                        <div class="left-side">
        
                            <div class="ringtone-title">
                            <a href="{{item.get_absolute_url}}">{{item.title}}</a>
                        </div>
                        <div class="ringtone-cat">
                            <a href="{{item.category.get_absolute_url}}">in {{item.category.name}}</a>
                             
                        </div>
        
                        <div class="splayed"> <span id="post{{item.id}}">{{item.played}} </span> <span>plays</span>
                        </div>
                        </div>
                        
                        <div class="download-c related-item-dbtn" id="downloadRingtone" >
        
        
        <a href="{{item.get_absolute_url}}"  >
        <span><svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11 13V1M11 13L7 9M11 13L15 9M1 15L1.621 17.485C1.72915 17.9177 1.97882 18.3018 2.33033 18.5763C2.68184 18.8508 3.11501 18.9999 3.561 19H18.439C18.885 18.9999 19.3182 18.8508 19.6697 18.5763C20.0212 18.3018 20.2708 17.9177 20.379 17.485L21 15" stroke="#D9D9D9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
        </span>
        
        <!-- <svg xmlns="http://www.w3.org/2000/svg" role="img" width="18px" height="18px" viewBox="0 0 24 24" aria-labelledby="headphonesIconTitle" stroke="#fff" stroke-width="1.125" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#2329D6"> <title id="headphonesIconTitle">Headphones</title> <path stroke-linecap="round" d="M21,13 L19,13 C17.8954305,13 17,13.8954305 17,15 L17,17 C17,18.1045695 17.8954305,19 19,19 L19,19 C20.1045695,19 21,18.1045695 21,17 L21,13 C21,8.02943725 16.9705627,4 12,4 C7.02943725,4 3,8.02943725 3,13 L3,17 C3,18.1045695 3.8954305,19 5,19 L5,19 C6.1045695,19 7,18.1045695 7,17 L7,15 C7,13.8954305 6.1045695,13 5,13 L3,13"/> </svg> -->
        <span id="downloadCount">
            {{ item.downloadsformated }}
        </span></a>
        
        </div>
        
                        
                    </div>
        
                    {% endfor %}
        
                </div>
                
            </div>
        </div>
    </div>

    <div id="tab-2" class="tab-content">
        <div class="user-followers-container">
             
            {% if followingcount == 0 %} 
            <div class="followers-item">

                <div class="followers-name">
                  Not Found!
               
                </div>
              

            </div>
            {% else %}

            {% for emitem in em%}
            <div class="followers-item">

                <div class="followers-name">
                    {{emitem.displayName}}
               
                </div>
              

            </div>
            {% endfor %}

        {% endif %}
        </div>
        
         
    </div>

    <div id="tab-3"class="tab-content">
        <div class="user-following-container">
            {% if emcount == 0 %}
            <div class="following-item">
 
                <div class="following-name">
                   Not Found!
                </div>
         
            </div>

            {% else %}
            {% for userfoingitem in userfoing%}
            <div class="following-item flex vcenter">
              
                <div class="following-img">
                    <a href="{{userfoingitem.id}}">
                    <img src="{{userfoingitem.profile_image.url}}" alt="">
                </a>
                </div>
                <div class="following-name">
                    {{userfoingitem.displayName}}
                </div>
                {{followed}}
                {% if followed == True %}
                <div class="following-btn" id="btn-{{userfoingitem.id}}" data-userid="{{userfoingitem.id}}">
                    Following
                </div>
                {% else %}

 

                <div class="following-btn" id="gbtn" data-userid="{{userfoingitem.id}}">
                    Follow
                </div>

         
                        {% endif %}
         
            </div>
            {% endfor %}

            {% endif %}
        </div>
    </div>

    <div id="tab-4" class="tab-content ">
        <div class="user-upload-ringtones">
            <div class="most-played-container player">
                 
        
                <div class="related flex flex-wrap">
                     
                    {% for item in post_obj %}
                    <div class="ringtone-container flex flex100 related-ringtone-item vcenter">
                        <div class="single-thum-image play-action">
                            <!-- <div class="played"> <svg xmlns="http://www.w3.org/2000/svg" role="img" width="18px" height="18px" viewBox="0 0 24 24" aria-labelledby="headphonesIconTitle" stroke="#2329D6" stroke-width="1.125" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#2329D6"> <title id="headphonesIconTitle">Headphones</title> <path stroke-linecap="round" d="M21,13 L19,13 C17.8954305,13 17,13.8954305 17,15 L17,17 C17,18.1045695 17.8954305,19 19,19 L19,19 C20.1045695,19 21,18.1045695 21,17 L21,13 C21,8.02943725 16.9705627,4 12,4 C7.02943725,4 3,8.02943725 3,13 L3,17 C3,18.1045695 3.8954305,19 5,19 L5,19 C6.1045695,19 7,18.1045695 7,17 L7,15 C7,13.8954305 6.1045695,13 5,13 L3,13"/> </svg><span>{{item.played}}</span>
                            </div> -->
                           
                           
                            <script> token = '{{ csrf_token }}'</script>
                            <img src="{{item.thumb.url}}" alt="">
                            <div class="play-btn">
        
                                <span class="ring-preloader"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="25 25 50 50">
                                <circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke="#fff" stroke-linecap="round" stroke-dashoffset="0" stroke-dasharray="100, 200">
                                <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 50 50" to="360 50 50" dur="2.5s" repeatCount="indefinite"></animateTransform>
                                <animate attributeName="stroke-dashoffset" values="0;-30;-124" dur="1.25s" repeatCount="indefinite"></animate>
                                <animate attributeName="stroke-dasharray" values="0,200;110,200;110,200" dur="1.25s" repeatCount="indefinite"></animate>
                                </circle>
                                </svg></span>
                                
                                
                                <div class="home-play-btn">
                                <svg role="img" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 24 24" aria-labelledby="playIconTitle" stroke="#fff" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#777"> <title id="playIconTitle">Play</title> <path d="M20 12L5 21V3z"></path> </svg>
                                </div>
                                
                                <div class="home-pause-btn">
                                <svg role="img" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 24 24" aria-labelledby="pauseIconTitle" stroke="#fff" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#777"> <title id="pauseIconTitle">Pause</title> <rect width="4" height="16" x="5" y="4"></rect> <rect width="4" height="16" x="15" y="4"></rect> </svg>
                                </div>
                                
                                
                                
                                
                                <span class="track">
                                <audio class="audio1" controls="" preload="none" data-id="{{item.id}}">
                                <source src="{{item.file.url}}" type="audio/mpeg">
                                </audio>
                                </span>
                                </div>
        
                                  <!-- <div class="download-info"> <a href="{{item.get_absolute_url}}"> Download</a></div>   -->
                                <div class="ring-progress"></div>
        
                        </div>
        
        
                        <div class="left-side">
        
                            <div class="ringtone-title">
                            <a href="{{item.get_absolute_url}}">{{item.title}}</a>
                        </div>
                        <div class="ringtone-cat">
                            <a href="{{item.category.get_absolute_url}}">in {{item.category.name}}</a>
                             
                        </div>
        
                        <div class="splayed"> <span id="post{{item.id}}">{{item.played}} </span> <span>plays</span>
                        </div>
                        </div>
                        
                        <div class="download-c related-item-dbtn" id="downloadRingtone" >
        
        
        <a href="{{item.get_absolute_url}}"  >
        <span><svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11 13V1M11 13L7 9M11 13L15 9M1 15L1.621 17.485C1.72915 17.9177 1.97882 18.3018 2.33033 18.5763C2.68184 18.8508 3.11501 18.9999 3.561 19H18.439C18.885 18.9999 19.3182 18.8508 19.6697 18.5763C20.0212 18.3018 20.2708 17.9177 20.379 17.485L21 15" stroke="#D9D9D9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
        </span>
        
        <!-- <svg xmlns="http://www.w3.org/2000/svg" role="img" width="18px" height="18px" viewBox="0 0 24 24" aria-labelledby="headphonesIconTitle" stroke="#fff" stroke-width="1.125" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#2329D6"> <title id="headphonesIconTitle">Headphones</title> <path stroke-linecap="round" d="M21,13 L19,13 C17.8954305,13 17,13.8954305 17,15 L17,17 C17,18.1045695 17.8954305,19 19,19 L19,19 C20.1045695,19 21,18.1045695 21,17 L21,13 C21,8.02943725 16.9705627,4 12,4 C7.02943725,4 3,8.02943725 3,13 L3,17 C3,18.1045695 3.8954305,19 5,19 L5,19 C6.1045695,19 7,18.1045695 7,17 L7,15 C7,13.8954305 6.1045695,13 5,13 L3,13"/> </svg> -->
        <span id="downloadCount">
            {{ item.downloadsformated }}
        </span></a>
        
        </div>
        
                        
                    </div>
        
                    {% endfor %}
        
                </div>
                
            </div>
        </div>
    </div>

</div>

</div>


<script>
    $('.tab-link').click( function() {
	
	var tabID = $(this).attr('data-tab');
	
	$(this).addClass('active').siblings().removeClass('active');
	
	$('#tab-'+tabID).addClass('active').siblings().removeClass('active');
});





</script>


<script>
    $("#fbtn").click(function(e){

user_ckeck = $("#user_ckeck").val()
if (user_ckeck == "True"){
userID = $("#fbtn").data('userid')



if(!requestSent){
    requestSent = true;
$.ajax({
        url: "/addfollow/",
        type: "POST",
        
        data: {
            userID: userID,
        },
        beforeSend: function () {
            $('#fbtn').html(`<svg style="vertical-align: bottom;margin-bottom: -1.4px;" version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            width="22px" height="22px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
           <path opacity="0.2" fill="#fff" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
             s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
             c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"/>
           <path fill="#fff" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
             C22.32,8.481,24.301,9.057,26.013,10.047z">
             <animateTransform attributeType="xml"
               attributeName="transform"
               type="rotate"
               from="0 20 20"
               to="360 20 20"
               dur="0.9s"
               repeatCount="indefinite"/>
             </path>
           </svg>`)
            
        },
    
    success: function (res) {
        
        if (res['result'] == true){
            followingcount = res['followingcount']
            $(".user-followers-count").text(`${followingcount}`)
            $("#fbtn").text("Following")
            user = res['followed']
            console.log(user)
            $(".follow-alert").text(`Followed ${user}`).fadeIn()

            

        }else{
            followingcount = res['followingcount']
            $(".user-followers-count").text(`${followingcount}`)
            $("#fbtn").text("Follow")
            user = res['Unfollowed']
            $(".follow-alert").text(`Unfollowed ${user}`).fadeIn()

        }
        setTimeout(function(){
                $(".follow-alert").fadeOut()
            },1000)


      console.log(res)
      
    },
    complete: function (res) {

        requestSent = false;}
  });
     

}

}else{
$(".single-login").show()



}
})

</script>


<script>
$(".following-btn").click(function(){
    userID = $(this).data('userid')
    print(userID)

     
    var requestSent = false;

    if(!requestSent){
        requestSent = true;
 $.ajax({
            url: "/addfollow/",
            type: "POST",
            
            data: {
                userID: userID,
            },
            beforeSend: function () {
                $(`#fbtn-${userID}`).html(`<svg style="vertical-align: bottom;margin-bottom: -1.4px;" version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                width="22px" height="22px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
               <path opacity="0.2" fill="#fff" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
                 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
                 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"/>
               <path fill="#fff" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
                 C22.32,8.481,24.301,9.057,26.013,10.047z">
                 <animateTransform attributeType="xml"
                   attributeName="transform"
                   type="rotate"
                   from="0 20 20"
                   to="360 20 20"
                   dur="0.9s"
                   repeatCount="indefinite"/>
                 </path>
               </svg>`)
                
            },
        
        success: function (res) {

            if (res['result'] == true){
                $(`#fbtn-${userID}`).text("Following")
                user = res['followed']
                $(".follow-alert").text(`followed ${user}`).fadeIn()

                

            }else{
                $(`#fbtn-${userID}`).text("Follow")
                $(".follow-alert").text(`unfollowed ${user}`).fadeIn()

            }
            setTimeout(function(){
                    $(".follow-alert").fadeOut()
                },1000)


          console.log(res)
          
        },
        complete: function (res) {

            requestSent = false;

            // $('#fbtn').text(`
            // <svg xmlns="http://www.w3.org/2000/svg" role="img" width="24px" height="24px" viewBox="0 0 24 24" aria-labelledby="searchIconTitle" stroke="#bcafd01a" stroke-width="1.125" stroke-linecap="square" stroke-linejoin="miter" fill="none" color="#111">
            //     <title id="searchIconTitle">Search</title>
            //     <path d="M14.4121122,14.4121122 L20,20"></path>
            //     <circle cx="10" cy="10" r="6"></circle>
            // </svg>`)


            }
      });
         

}
})
 
</script>
{%endblock body%}